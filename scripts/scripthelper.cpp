#include <iostream>
#include "scripthelper.h"
#include "object/gameobject.h"

ScriptHelper::ScriptHelper(World *world)
    : pWorld(world)
{
    mState.open_libraries(sol::lib::base, sol::lib::math , sol::lib::os, sol::lib::string);
    mState.new_usertype<r3dPoint3D>("r3dPoint3D");
    mState.new_usertype<GameObject>("GameObject");

    mState["DAMAGESOURCE_RAW"] = 0;
    mState["DAMAGESOURCE_INTERNALRAW"] = 1;
    mState["DAMAGESOURCE_PERIODIC"] = 2;
    mState["DAMAGESOURCE_PROC"] = 3;
    mState["DAMAGESOURCE_REACTIVE"] = 4;
    mState["DAMAGESOURCE_ONDEATH"] = 5;
    mState["DAMAGESOURCE_SPELL"] = 6;
    mState["DAMAGESOURCE_ATTACK"] = 7;
    mState["DAMAGESOURCE_DEFAULT"] = 8;
    mState["DAMAGESOURCE_SPELLAOE"] = 9;
    mState["DAMAGESOURCE_SPELLPERSIST"] = 10;
    mState["PHYSICAL_DAMAGE"] = 0;
    mState["MAGIC_DAMAGE"] = 1;
    mState["TRUE_DAMAGE"] = 2;
    mState["HIT_Normal"] = 0;
    mState["HIT_Critical"] = 1;
    mState["HIT_Miss"] = 3;
    mState["HIT_Dodge"] = 2;
    mState["TTYPE_Invalid"] = -1;
    mState["TTYPE_Self"] = 0;
    mState["TTYPE_Target"] = 1;
    mState["TTYPE_Area"] = 2;
    mState["TTYPE_Cone"] = 3;
    mState["TTYPE_SelfAOE"] = 4;
    mState["TTYPE_TargetOrLocation"] = 5;
    mState["TTYPE_Location"] = 6;
    mState["TTYPE_Direction"] = 7;
    mState["TEAM_UNKNOWN"] = 0;
    mState["TEAM_ORDER"] = 100;
    mState["TEAM_CHAOS"] = 200;
    mState["TEAM_NEUTRAL"] = 300;
    mState["TEAM_OWNER"] = 401;
    mState["TEAM_CASTER"] = 402;
    mState["TEAM_TARGET"] = 403;
    mState["SPAWN_LOCATION"] = 1;
    mState["SpellSlots"] = 0;
    mState["InventorySlots"] = 1;
    mState["ExtraSlots"] = 2;
    mState["SPELLBOOK_CHAMPION"] = 0;
    mState["SPELLBOOK_SUMMONER"] = 1;
    mState["BUFF_REPLACE_EXISTING"] = 0;
    mState["BUFF_RENEW_EXISTING"] = 1;
    mState["BUFF_STACKS_AND_RENEWS"] = 2;
    mState["BUFF_STACKS_AND_OVERLAPS"] = 3;
    mState["ChannelingStopCondition_NotCancelled"] = 0;
    mState["ChannelingStopCondition_Success"] = 1;
    mState["ChannelingStopCondition_Cancel"] = 2;
    mState["ChannelingStopSource_NotCancelled"] = 0;
    mState["ChannelingStopSource_TimeCompleted"] = 1;
    mState["ChannelingStopSource_Animation"] = 2;
    mState["ChannelingStopSource_LostTarget"] = 3;
    mState["ChannelingStopSource_StunnedOrSilencedOrTaunted"] = 4;
    mState["ChannelingStopSource_ChannelingCondition"] = 5;
    mState["ChannelingStopSource_Die"] = 6;
    mState["ChannelingStopSource_HeroReincarnate"] = 7;
    mState["ChannelingStopSource_Move"] = 8;
    mState["ChannelingStopSource_Attack"] = 9;
    mState["ChannelingStopSource_Casting"] = 10;
    mState["ChannelingStopSource_Unknown"] = 11;
    mState["FURTHEST_WITHIN_RANGE"] = 0;
    mState["FIRST_COLLISION_HIT"] = 1;
    mState["GET_NEAREST_IN_RANGE"] = 2;
    mState["GET_NEAREST_IN_RANGE_INCLUDE_UNITS"] = 3;
    mState["CANCEL_ORDER"] = 0;
    mState["POSTPONE_CURRENT_ORDER"] = 1;
    mState["PAR_MANA"] = 0;
    mState["PAR_ENERGY"] = 1;
    mState["PAR_SOULS"] = 2;
    mState["PAR_SHIELD"] = 3;
    mState["SPELL_AffectBuildings"] = 4096;
    mState["SPELL_AffectEnemies"] = 1024;
    mState["SPELL_AffectFriends"] = 2048;
    mState["SPELL_Autocast"] = 2;
    mState["SPELL_Instacast"] = 4;
    mState["SPELL_NotAffectSelf"] = 0x2000;
    mState["SPELL_PersistThroughDeath"] = 8;
    mState["SPELL_NonDisspellable"] = 16;
    mState["SPELL_AffectBuildings"] = 4096;
    mState["SPELL_AffectDead"] = 0x80000;
    mState["SPELL_AffectEnemies"] = 1024;
    mState["SPELL_AffectFriends"] = 2048;
    mState["SPELL_AffectHeroes"] = 0x10000;
    mState["SPELL_AffectMinions"] = 0x8000;
    mState["SPELL_AffectNeutral"] = 0x4000;
    mState["SPELL_AffectNotPet"] = 0x100000;
    mState["SPELL_AffectTurrets"] = 0x20000;
    mState["SPELL_AlwaysSelf"] = 0x40000;
    mState["SPELL_AffectBarrackOnly"] = 0x200000;
    mState["SPELL_NonTargetableAlly"] = 0x800000;
    mState["SPELL_NonTargetableEnemy"] = 0x1000000;
    mState["SPELL_NonTargetableAll"] = 0x1800000;
    mState["SPELL_TargetableToAll"] = 0x2000000;
    mState["BUFF_Aura"] = 1;
    mState["BUFF_CombatDehancer"] = 3;
    mState["BUFF_CombatEnchancer"] = 2;
    mState["BUFF_Damage"] = 11;
    mState["BUFF_Fear"] = 20;
    mState["BUFF_Frenzy"] = 19;
    mState["BUFF_Haste"] = 13;
    mState["BUFF_Heal"] = 12;
    mState["BUFF_Internal"] = 0;
    mState["BUFF_Invisibility"] = 5;
    mState["BUFF_Invulnerability"] = 16;
    mState["BUFF_Net"] = 21;
    mState["BUFF_PhysicalImmunity"] = 15;
    mState["BUFF_Polymorph"] = 8;
    mState["BUFF_Silence"] = 6;
    mState["BUFF_Sleep"] = 17;
    mState["BUFF_NearSight"] = 18;
    mState["BUFF_Slow"] = 9;
    mState["BUFF_Snare"] = 10;
    mState["BUFF_SpellImmunity"] = 14;
    mState["BUFF_Suppression"] = 23;
    mState["BUFF_Stun"] = 4;
    mState["BUFF_Taunt"] = 7;
    mState["BUFF_Pacified"] = 6;
    mState["BUFF_Net"] = 6;
    mState["BUFF_Disarm"] = 6;
    mState["BUFF_Poison"] = 22;
    mState["BUFF_Suppression"] = 23;
    mState["BUFF_Blind"] = 24;
    mState["UNITSCAN_Enemies"] = 1024;
    mState["UNITSCAN_Friends"] = 2048;
    mState["UNITSCAN_Buildings"] = 4096;
    mState["UNITSCAN_Dead"] = 0x80000;
    mState["EFFCREATE_KEEPALIVE"] = 1;
    mState["EFFCREATE_UPDATE_ORIENTATION"] = 16;
    mState["EFFCREATE_SIMULATE_WHILE_OFF_SCREEN"] = 32;
    mState["AI_ORDER_NONE"] = 0;
    mState["AI_HOLD"] = 1;
    mState["AI_MOVETO"] = 2;
    mState["AI_ATTACKTO"] = 3;
    mState["AI_TEMP_CASTSPELL"] = 4;
    mState["AI_PETHARDATTACK"] = 5;
    mState["AI_PETHARDMOVE"] = 6;
    mState["AI_PETHARDRETURN"] = 9;
    mState["AI_ATTACKMOVE"] = 7;
    mState["AI_TAUNT"] = 8;
    mState["MAX_SPELLS_PER_CHAR"] = 4;
    mState["NUM_INVENTORY_SLOTS"] = 6;
    mState["MAX_SLOTS_PER_CHARACTER"] = 10;
    mState["NONSPELL_DAMAGESOURCE_RAW"] = 0;
    mState["NONSPELL_DAMAGESOURCE_INTERNALRAW"] = 1;
    mState["NONSPELL_DAMAGESOURCE_PERIODIC"] = 2;
    mState["NONSPELL_DAMAGESOURCE_REACTIVE"] = 4;
    mState["NONSPELL_DAMAGESOURCE_ONDEATH"] = 5;
    mState["DAMAGESOURCE_RAW"] = 0;
    mState["DAMAGESOURCE_INTERNALRAW"] = 1;
    mState["DAMAGESOURCE_PERIODIC"] = 2;
    mState["DAMAGESOURCE_PROC"] = 3;
    mState["DAMAGESOURCE_TO_REACTIVE"] = 4;
    mState["DAMAGESOURCE_TO_ONDEATH"] = 5;
    mState["DAMAGESOURCE_SPELL"] = 6;
    mState["DAMAGESOURCE_ATTACK"] = 7;
    mState["DAMAGESOURCE_DEFAULT"] = 8;
    mState["DAMAGESOURCE_SPELLAOE"] = 9;
    mState["DAMAGESOURCE_SPELLPERSIST"] = 10;
    mState["SPAWN_HQ"] = 0;
    mState["SPAWN_BARRACKS_LANE_C "] = 3;
    mState["SPAWN_BARRACKS_LANE_R"] = 2;
    mState["SPAWN_BARRACKS_LANE_L "] = 4;
    mState["SPAWN_LOCATION"] = 1;
    mState["CHANNELINGSTOPCONDITION_SUCCESS"] = 1;
    mState["CHANNELINGSTOPCONDITION_CANCEL"] = 2;
    mState["CHANNELINGSTOPSOURCE_NORMAL"] = 1;
    mState["CHANNELINGSTOPSOURCE_ANIMATION"] = 2;
    mState["CHANNELINGSTOPSOURCE_LOSTTARGET"] = 3;
    mState["CHANNELINGSTOPSOURCE_STUNNEDORSILENCEDORTAUNTED"] = 4;
    mState["CHANNELINGSTOPSOURCE_CHANNELINGCONDITION"] = 5;
    mState["CHANNELINGSTOPSOURCE_DIE"] = 6;
    mState["CHANNELINGSTOPSOURCE_HEROREINCARNATE"] = 7;
    mState["CHANNELINGSTOPSOURCE_MOVE"] = 8;
    mState["CHANNELINGSTOPSOURCE_ATTACK"] = 9;

    mState.set_function("Log", &ScriptHelper::Log, this);
    mState.set_function("GetPosition", &ScriptHelper::GetPosition, this);
    mState.set_function("SetPosition", &ScriptHelper::SetPosition, this);
    mState.set_function("FacePosition", &ScriptHelper::FacePosition, this);
    mState.set_function("IncPosition", &ScriptHelper::IncPosition, this);
    mState.set_function("IncGold", &ScriptHelper::IncGold, this);
    mState.set_function("GiveExpToNearHeroesFromNeutral", &ScriptHelper::GiveExpToNearHeroesFromNeutral, this);
    mState.set_function("GetNormalizedPositionDelta", &ScriptHelper::GetNormalizedPositionDelta, this);
    mState.set_function("Multiply3dPointByScalar", &ScriptHelper::Multiply3dPointByScalar, this);
    mState.set_function("DistPoint3DSegment3D", &ScriptHelper::DistPoint3DSegment3D, this);
    mState.set_function("Add3dPoints", &ScriptHelper::Add3dPoints, this);
    mState.set_function("GetTeamID", &ScriptHelper::GetTeamID, this);
    mState.set_function("GetID", &ScriptHelper::GetID, this);
    mState.set_function("MakeSay", &ScriptHelper::MakeSay, this);
    mState.set_function("GetHQType", &ScriptHelper::GetHQType, this);
    mState.set_function("GetDampenerType", &ScriptHelper::GetDampenerType, this);
    mState.set_function("IsObjectHero", &ScriptHelper::IsObjectHero, this);
    mState.set_function("IsObjectAI", &ScriptHelper::IsObjectAI, this);
    mState.set_function("IsTurretAI", &ScriptHelper::IsTurretAI, this);
    mState.set_function("GetObjectLaneId", &ScriptHelper::GetObjectLaneId, this);
    mState.set_function("GetTurretPosition", &ScriptHelper::GetTurretPosition, this);
    mState.set_function("GetLinkedBarrack", &ScriptHelper::GetLinkedBarrack, this);
    mState.set_function("GetDampener", &ScriptHelper::GetDampener, this);
    mState.set_function("IsDampener", &ScriptHelper::IsDampener, this);
    mState.set_function("SetDampenerState", &ScriptHelper::SetDampenerState, this);
    mState.set_function("GetLane", &ScriptHelper::GetLane, this);
    mState.set_function("EndGame", &ScriptHelper::EndGame, this);
    mState.set_function("InitTimer", &ScriptHelper::InitTimer, this);
    mState.set_function("AssignTeamGold", &ScriptHelper::AssignTeamGold, this);
    mState.set_function("luaNeutralInitTimer", &ScriptHelper::luaNeutralInitTimer, this);
    mState.set_function("SpawnNeutralMinion", &ScriptHelper::SpawnNeutralMinion, this);
    mState.set_function("LoadScriptIntoScript", &ScriptHelper::LoadScriptIntoScript, this);
    mState.set_function("Make3DPoint", &ScriptHelper::Make3DPoint, this);
    mState.set_function("GetTurret", &ScriptHelper::GetTurret, this);
    mState.set_function("GetBarracks", &ScriptHelper::GetBarracks, this);
    mState.set_function("SetDisableMinionSpawn", &ScriptHelper::SetDisableMinionSpawn, this);
    mState.set_function("SetBarracksEnabled", &ScriptHelper::SetBarracksEnabled, this);
    mState.set_function("GetHQ", &ScriptHelper::GetHQ, this);
    mState.set_function("GetTutorialPlayer", &ScriptHelper::GetTutorialPlayer, this);
    mState.set_function("CreateGameObject", &ScriptHelper::CreateGameObject, this);
    mState.set_function("PreloadCharacter", &ScriptHelper::PreloadCharacter, this);
    mState.set_function("PreloadSpell", &ScriptHelper::PreloadSpell, this);
    mState.set_function("PreloadParticle", &ScriptHelper::PreloadParticle, this);
    mState.set_function("GetHashedGameObjName", &ScriptHelper::GetHashedGameObjName, this);
    mState.set_function("SetLaneAffinity", &ScriptHelper::SetLaneAffinity, this);
    mState.set_function("CreateChildTurret", &ScriptHelper::CreateChildTurret, this);
    mState.set_function("ToggleInputLockingFlag", &ScriptHelper::ToggleInputLockingFlag, this);
    mState.set_function("SetInputLockingFlag", &ScriptHelper::SetInputLockingFlag, this);
    mState.set_function("ToggleFogOfWar", &ScriptHelper::ToggleFogOfWar, this);
    mState.set_function("ToggleFogOfWarOn", &ScriptHelper::ToggleFogOfWarOn, this);
    mState.set_function("SetCircularCameraRestriction", &ScriptHelper::SetCircularCameraRestriction, this);
    mState.set_function("LockCamera", &ScriptHelper::LockCamera, this);
    mState.set_function("PauseGame", &ScriptHelper::PauseGame, this);
    mState.set_function("ResumeGame", &ScriptHelper::ResumeGame, this);
    mState.set_function("PlayTutorialAudioEvent", &ScriptHelper::PlayTutorialAudioEvent, this);
    mState.set_function("GetUnitSkinName", &ScriptHelper::GetUnitSkinName, this);
    mState.set_function("IncExp", &ScriptHelper::IncExp, this);
    mState.set_function("GetTime", &ScriptHelper::GetTime, this);
    mState.set_function("_ALERT", &ScriptHelper::_ALERT, this);
    mState.set_function("GetTotalTeamMinionsSpawned", &ScriptHelper::GetTotalTeamMinionsSpawned, this);

    //Damage
    mState.set_function("GetDamageType", &ScriptHelper::GetDamageType, this);
    mState.set_function("GetSourceType", &ScriptHelper::GetSourceType, this);
    mState.set_function("GetDamageAmount", &ScriptHelper::GetDamageAmount, this);
    mState.set_function("GetPercentageOfAttack", &ScriptHelper::GetPercentageOfAttack, this);
    mState.set_function("GetAttacker", &ScriptHelper::GetAttacker, this);
    mState.set_function("GetHitResult", &ScriptHelper::GetHitResult, this);

    //Building Blocks
    mState.set_function("BBSetCameraPosition", &ScriptHelper::BBSetCameraPosition, this);
    mState.set_function("BBIsPathable", &ScriptHelper::BBIsPathable, this);
    mState.set_function("BBTeleportToKeyLocation", &ScriptHelper::BBTeleportToKeyLocation, this);
    mState.set_function("BBTeleportToPosition", &ScriptHelper::BBTeleportToPosition, this);
    mState.set_function("BBGetNearestPassablePosition", &ScriptHelper::BBGetNearestPassablePosition, this);
    mState.set_function("BBForEachUnitInTargetAreaAddBuff", &ScriptHelper::BBForEachUnitInTargetAreaAddBuff, this);
    mState.set_function("BBForEachUnitInTargetArea", &ScriptHelper::BBForEachUnitInTargetArea, this);
    mState.set_function("BBForEachUnitInTargetAreaRandom", &ScriptHelper::BBForEachUnitInTargetAreaRandom, this);
    mState.set_function("BBForNClosestUnitsInTargetArea", &ScriptHelper::BBForNClosestUnitsInTargetArea, this);
    mState.set_function("BBForEachChampion", &ScriptHelper::BBForEachChampion, this);
    mState.set_function("BBForEachUnitInTargetRectangle", &ScriptHelper::BBForEachUnitInTargetRectangle, this);
    mState.set_function("BBGetRandomPointInAreaUnit", &ScriptHelper::BBGetRandomPointInAreaUnit, this);
    mState.set_function("BBGetRandomPointInAreaPosition", &ScriptHelper::BBGetRandomPointInAreaPosition, this);
    mState.set_function("BBGetUnitPosition", &ScriptHelper::BBGetUnitPosition, this);
    mState.set_function("BBGetSkinID", &ScriptHelper::BBGetSkinID, this);
    mState.set_function("BBGetPointByUnitFacingOffset", &ScriptHelper::BBGetPointByUnitFacingOffset, this);
    mState.set_function("BBGetMissilePosFromID", &ScriptHelper::BBGetMissilePosFromID, this);
    mState.set_function("BBModifyPosition", &ScriptHelper::BBModifyPosition, this);
    mState.set_function("BBIncFlatPARPoolMod", &ScriptHelper::BBIncFlatPARPoolMod, this);
    mState.set_function("BBIncFlatPARRegenMod", &ScriptHelper::BBIncFlatPARRegenMod, this);
    mState.set_function("BBIncPercentPARPoolMod", &ScriptHelper::BBIncPercentPARPoolMod, this);
    mState.set_function("BBIncPercentPARRegenMod", &ScriptHelper::BBIncPercentPARRegenMod, this);
    mState.set_function("BBIncPermanentFlatPARPoolMod", &ScriptHelper::BBIncPermanentFlatPARPoolMod, this);
    mState.set_function("BBIncPermanentFlatPARRegenMod", &ScriptHelper::BBIncPermanentFlatPARRegenMod, this);
    mState.set_function("BBIncPermanentPercentPARPoolMod", &ScriptHelper::BBIncPermanentPercentPARPoolMod, this);
    mState.set_function("BBIncPermanentPercentPARRegenMod", &ScriptHelper::BBIncPermanentPercentPARRegenMod, this);
    mState.set_function("BBGetFlatPARPoolMod", &ScriptHelper::BBGetFlatPARPoolMod, this);
    mState.set_function("BBGetFlatPARRegenMod", &ScriptHelper::BBGetFlatPARRegenMod, this);
    mState.set_function("BBGetPercentPARPoolMod", &ScriptHelper::BBGetPercentPARPoolMod, this);
    mState.set_function("BBGetPercentPARRegenMod", &ScriptHelper::BBGetPercentPARRegenMod, this);
    mState.set_function("BBApplyDamage", &ScriptHelper::BBApplyDamage, this);
    mState.set_function("BBApplyStun", &ScriptHelper::BBApplyStun, this);
    mState.set_function("BBApplyPacified", &ScriptHelper::BBApplyPacified, this);
    mState.set_function("BBApplyNet", &ScriptHelper::BBApplyNet, this);
    mState.set_function("BBApplyDisarm", &ScriptHelper::BBApplyDisarm, this);
    mState.set_function("BBApplySuppression", &ScriptHelper::BBApplySuppression, this);
    mState.set_function("BBApplySilence", &ScriptHelper::BBApplySilence, this);
    mState.set_function("BBApplyRoot", &ScriptHelper::BBApplyRoot, this);
    mState.set_function("BBApplyTaunt", &ScriptHelper::BBApplyTaunt, this);
    mState.set_function("BBApplyCharm", &ScriptHelper::BBApplyCharm, this);
    mState.set_function("BBApplyFear", &ScriptHelper::BBApplyFear, this);
    mState.set_function("BBApplySleep", &ScriptHelper::BBApplySleep, this);
    mState.set_function("BBApplyNearSight", &ScriptHelper::BBApplyNearSight, this);
    mState.set_function("BBApplyNoRender", &ScriptHelper::BBApplyNoRender, this);
    mState.set_function("BBApplyForceRenderParticles", &ScriptHelper::BBApplyForceRenderParticles, this);
    mState.set_function("BBApplyStealth", &ScriptHelper::BBApplyStealth, this);
    mState.set_function("BBApplyRevealSpecificUnit", &ScriptHelper::BBApplyRevealSpecificUnit, this);
    mState.set_function("BBApplySuppressCallForHelp", &ScriptHelper::BBApplySuppressCallForHelp, this);
    mState.set_function("BBApplyCallForHelpSuppresser", &ScriptHelper::BBApplyCallForHelpSuppresser, this);
    mState.set_function("BBApplyIgnoreCallForHelp", &ScriptHelper::BBApplyIgnoreCallForHelp, this);
    mState.set_function("BBIncPAR", &ScriptHelper::BBIncPAR, this);
    mState.set_function("BBIncGold", &ScriptHelper::BBIncGold, this);
    mState.set_function("BBLuaGetGold", &ScriptHelper::BBLuaGetGold, this);
    mState.set_function("BBIncHealth", &ScriptHelper::BBIncHealth, this);
    mState.set_function("BBDrawDefaultHitEffects", &ScriptHelper::BBDrawDefaultHitEffects, this);
    mState.set_function("BBGetCastSpellTargetPos", &ScriptHelper::BBGetCastSpellTargetPos, this);
    mState.set_function("BBAdjustCastInfoCenterAOE", &ScriptHelper::BBAdjustCastInfoCenterAOE, this);
    mState.set_function("BBSpawnPet", &ScriptHelper::BBSpawnPet, this);
    mState.set_function("BBSpawnMinion", &ScriptHelper::BBSpawnMinion, this);
    mState.set_function("BBCloneUnit", &ScriptHelper::BBCloneUnit, this);
    mState.set_function("BBCloneUnitPet", &ScriptHelper::BBCloneUnitPet, this);
    mState.set_function("BBIncExp", &ScriptHelper::BBIncExp, this);
    mState.set_function("BBForEachPetInTarget", &ScriptHelper::BBForEachPetInTarget, this);
    mState.set_function("BBSetDodgePiercing", &ScriptHelper::BBSetDodgePiercing, this);
    mState.set_function("BBSetStateDisableAmbientGold", &ScriptHelper::BBSetStateDisableAmbientGold, this);
    mState.set_function("BBSetStunned", &ScriptHelper::BBSetStunned, this);
    mState.set_function("BBSetPacified", &ScriptHelper::BBSetPacified, this);
    mState.set_function("BBSetNetted", &ScriptHelper::BBSetNetted, this);
    mState.set_function("BBSetDisarmed", &ScriptHelper::BBSetDisarmed, this);
    mState.set_function("BBSetRooted", &ScriptHelper::BBSetRooted, this);
    mState.set_function("BBSetSuppressCallForHelp", &ScriptHelper::BBSetSuppressCallForHelp, this);
    mState.set_function("BBSetCallForHelpSuppresser", &ScriptHelper::BBSetCallForHelpSuppresser, this);
    mState.set_function("BBRedirectGold", &ScriptHelper::BBRedirectGold, this);
    mState.set_function("BBSetTargetingType", &ScriptHelper::BBSetTargetingType, this);
    mState.set_function("BBSetSpell", &ScriptHelper::BBSetSpell, this);
    mState.set_function("BBSetBuffCasterUnit", &ScriptHelper::BBSetBuffCasterUnit, this);
    mState.set_function("BBSetTriggerUnit", &ScriptHelper::BBSetTriggerUnit, this);
    mState.set_function("BBSetUnit", &ScriptHelper::BBSetUnit, this);
    mState.set_function("BBInvalidateUnit", &ScriptHelper::BBInvalidateUnit, this);
    mState.set_function("BBForceDead", &ScriptHelper::BBForceDead, this);
    mState.set_function("BBSetIgnoreCallForHelp", &ScriptHelper::BBSetIgnoreCallForHelp, this);
    mState.set_function("BBSpellBuffAdd", &ScriptHelper::BBSpellBuffAdd, this);
    mState.set_function("BBTimeChannelTickExecute", &ScriptHelper::BBTimeChannelTickExecute, this);
    mState.set_function("BBBreak", &ScriptHelper::BBBreak, this);
    mState.set_function("BBSpellBuffRemoveType", &ScriptHelper::BBSpellBuffRemoveType, this);
    mState.set_function("BBSpellBuffRemove", &ScriptHelper::BBSpellBuffRemove, this);
    mState.set_function("BBSpellBuffRemoveCurrent", &ScriptHelper::BBSpellBuffRemoveCurrent, this);
    mState.set_function("BBSpellBuffClear", &ScriptHelper::BBSpellBuffClear, this);
    mState.set_function("BBGetBuffRemainingDuration", &ScriptHelper::BBGetBuffRemainingDuration, this);
    mState.set_function("BBSpellEffectCreate", &ScriptHelper::BBSpellEffectCreate, this);
    mState.set_function("BBSpellEffectRemove", &ScriptHelper::BBSpellEffectRemove, this);
    mState.set_function("BBStopChanneling", &ScriptHelper::BBStopChanneling, this);
    mState.set_function("BBStopMove", &ScriptHelper::BBStopMove, this);
    mState.set_function("BBMove", &ScriptHelper::BBMove, this);
    mState.set_function("BBMoveAway", &ScriptHelper::BBMoveAway, this);
    mState.set_function("BBDestroyMissile", &ScriptHelper::BBDestroyMissile, this);
    mState.set_function("BBDestroyMissileForTarget", &ScriptHelper::BBDestroyMissileForTarget, this);
    mState.set_function("BBSpellCast", &ScriptHelper::BBSpellCast, this);
    mState.set_function("BBCancelAutoAttack", &ScriptHelper::BBCancelAutoAttack, this);
    mState.set_function("BBOverrideAutoAttack", &ScriptHelper::BBOverrideAutoAttack, this);
    mState.set_function("BBRemoveOverrideAutoAttack", &ScriptHelper::BBRemoveOverrideAutoAttack, this);
    mState.set_function("BBSetAutoAttackTargetingFlags", &ScriptHelper::BBSetAutoAttackTargetingFlags, this);
    mState.set_function("BBSetPetReturnRadius", &ScriptHelper::BBSetPetReturnRadius, this);
    mState.set_function("BBCreateItem", &ScriptHelper::BBCreateItem, this);
    mState.set_function("BBSealSpellSlot", &ScriptHelper::BBSealSpellSlot, this);
    mState.set_function("BBSetBuffToolTipVar", &ScriptHelper::BBSetBuffToolTipVar, this);
    mState.set_function("BBSetSpellToolTipVar", &ScriptHelper::BBSetSpellToolTipVar, this);
    mState.set_function("BBLinkVisibility", &ScriptHelper::BBLinkVisibility, this);
    mState.set_function("BBIsInBrush", &ScriptHelper::BBIsInBrush, this);
    mState.set_function("BBGetHeightDifference", &ScriptHelper::BBGetHeightDifference, this);
    mState.set_function("BBRemoveLinkVisibility", &ScriptHelper::BBRemoveLinkVisibility, this);
    mState.set_function("BBSetNearSight", &ScriptHelper::BBSetNearSight, this);
    mState.set_function("BBGetNearSight", &ScriptHelper::BBGetNearSight, this);
    mState.set_function("BBGetPetOwner", &ScriptHelper::BBGetPetOwner, this);
    mState.set_function("BBStartTrackingCollisions", &ScriptHelper::BBStartTrackingCollisions, this);
    mState.set_function("BBStopMoveBlock", &ScriptHelper::BBStopMoveBlock, this);
    mState.set_function("BBStopCurrentOverrideAnimation", &ScriptHelper::BBStopCurrentOverrideAnimation, this);
    mState.set_function("BBPreloadCharacter", &ScriptHelper::BBPreloadCharacter, this);
    mState.set_function("BBPreloadParticle", &ScriptHelper::BBPreloadParticle, this);
    mState.set_function("BBPreloadSpell", &ScriptHelper::BBPreloadSpell, this);
    mState.set_function("BBDispellPositiveBuffs", &ScriptHelper::BBDispellPositiveBuffs, this);
    mState.set_function("BBDispellNegativeBuffs", &ScriptHelper::BBDispellNegativeBuffs, this);
    mState.set_function("BBRemovePerceptionBubble", &ScriptHelper::BBRemovePerceptionBubble, this);
    mState.set_function("BBAddUnitPerceptionBubble", &ScriptHelper::BBAddUnitPerceptionBubble, this);
    mState.set_function("BBAddPosPerceptionBubble", &ScriptHelper::BBAddPosPerceptionBubble, this);
    mState.set_function("BBPlayAnimation", &ScriptHelper::BBPlayAnimation, this);
    mState.set_function("BBUnlockAnimation", &ScriptHelper::BBUnlockAnimation, this);
    mState.set_function("BBGetNumberOfHeroesOnTeam", &ScriptHelper::BBGetNumberOfHeroesOnTeam, this);
    mState.set_function("BBCanSeeTarget", &ScriptHelper::BBCanSeeTarget, this);
    mState.set_function("BBPushCharacterData", &ScriptHelper::BBPushCharacterData, this);
    mState.set_function("BBSetSlotSpellCooldownTimeVer2", &ScriptHelper::BBSetSlotSpellCooldownTimeVer2, this);
    mState.set_function("BBPopCharacterData", &ScriptHelper::BBPopCharacterData, this);
    mState.set_function("BBPopAllCharacterData", &ScriptHelper::BBPopAllCharacterData, this);
    mState.set_function("BBPushCharacterFade", &ScriptHelper::BBPushCharacterFade, this);
    mState.set_function("BBPopCharacterFade", &ScriptHelper::BBPopCharacterFade, this);
    mState.set_function("BBForEachPointAroundCircle", &ScriptHelper::BBForEachPointAroundCircle, this);
    mState.set_function("BBSetCharacterDebugRadius", &ScriptHelper::BBSetCharacterDebugRadius, this);
    mState.set_function("BBForEachPointOnLine", &ScriptHelper::BBForEachPointOnLine, this);
    mState.set_function("BBFaceDirection", &ScriptHelper::BBFaceDirection, this);
    mState.set_function("BBGetGameTime", &ScriptHelper::BBGetGameTime, this);
    mState.set_function("BBGetChampionBySkinName", &ScriptHelper::BBGetChampionBySkinName, this);
    mState.set_function("BBPauseAnimation", &ScriptHelper::BBPauseAnimation, this);
    mState.set_function("BBEnableWallOfGrassTracking", &ScriptHelper::BBEnableWallOfGrassTracking, this);
    mState.set_function("BBShowHealthBar", &ScriptHelper::BBShowHealthBar, this);
    mState.set_function("BBClearOverrideAnimation", &ScriptHelper::BBClearOverrideAnimation, this);
    mState.set_function("BBOverrideAnimation", &ScriptHelper::BBOverrideAnimation, this);
    mState.set_function("BBIncSpellLevel", &ScriptHelper::BBIncSpellLevel, this);
    mState.set_function("BBSetPARCostInc", &ScriptHelper::BBSetPARCostInc, this);
    mState.set_function("BBGetPARCostInc", &ScriptHelper::BBGetPARCostInc, this);
    mState.set_function("BBSetPARMultiplicativeCostInc", &ScriptHelper::BBSetPARMultiplicativeCostInc, this);
    mState.set_function("BBGetPARMultiplicativeCostInc", &ScriptHelper::BBGetPARMultiplicativeCostInc, this);
    mState.set_function("BBSetInCastTable", &ScriptHelper::BBSetInCastTable, this);
    mState.set_function("BBOverrideCastRange", &ScriptHelper::BBOverrideCastRange, this);
    mState.set_function("BBGetCastRange", &ScriptHelper::BBGetCastRange, this);
    mState.set_function("BBAddDebugCircle", &ScriptHelper::BBAddDebugCircle, this);
    mState.set_function("BBRemoveDebugCircle", &ScriptHelper::BBRemoveDebugCircle, this);
    mState.set_function("BBModifyDebugCircleRadius", &ScriptHelper::BBModifyDebugCircleRadius, this);
    mState.set_function("BBModifyDebugCircleColor", &ScriptHelper::BBModifyDebugCircleColor, this);
    mState.set_function("BBApplyAssistMarker", &ScriptHelper::BBApplyAssistMarker, this);
    mState.set_function("BBSkipNextAutoAttack", &ScriptHelper::BBSkipNextAutoAttack, this);
    mState.set_function("BBIncMaxHealth", &ScriptHelper::BBIncMaxHealth, this);
    mState.set_function("BBGetIsZombie", &ScriptHelper::BBGetIsZombie, this);
    mState.set_function("GetCFParam", &ScriptHelper::GetCFParam, this);

    //Spells
    mState.set_function("Say", &ScriptHelper::Say, this);
    mState.set_function("ApplyStun", &ScriptHelper::ApplyStun, this);
    mState.set_function("ApplyPacified", &ScriptHelper::ApplyPacified, this);
    mState.set_function("ApplyNet", &ScriptHelper::ApplyNet, this);
    mState.set_function("ApplyDisarm", &ScriptHelper::ApplyDisarm, this);
    mState.set_function("ApplyRoot", &ScriptHelper::ApplyRoot, this);
    mState.set_function("ApplySilence", &ScriptHelper::ApplySilence, this);
    mState.set_function("ApplySuppression", &ScriptHelper::ApplySuppression, this);
    mState.set_function("ApplySuppressCallForHelp", &ScriptHelper::ApplySuppressCallForHelp, this);
    mState.set_function("ApplyIgnoreCallForHelp", &ScriptHelper::ApplyIgnoreCallForHelp, this);
    mState.set_function("ApplyCallForHelpSuppresser", &ScriptHelper::ApplyCallForHelpSuppresser, this);
    mState.set_function("CancelOrder", &ScriptHelper::CancelOrder, this);
    mState.set_function("ChannelingStart", &ScriptHelper::ChannelingStart, this);
    mState.set_function("ChannelingStop", &ScriptHelper::ChannelingStop, this);
    mState.set_function("DrawDefaultHitEffects", &ScriptHelper::DrawDefaultHitEffects, this);
    mState.set_function("GetIsAttackOverride", &ScriptHelper::GetIsAttackOverride, this);
    mState.set_function("GetCastSpellLevelPlusOne", &ScriptHelper::GetCastSpellLevelPlusOne, this);
    mState.set_function("GetCastSpellTargetPos", &ScriptHelper::GetCastSpellTargetPos, this);
    mState.set_function("GetCastSpellTargetsHitPlusOne", &ScriptHelper::GetCastSpellTargetsHitPlusOne, this);
    mState.set_function("GetCastSpellLuaInfo", &ScriptHelper::GetCastSpellLuaInfo, this);
    mState.set_function("GetCasterID", &ScriptHelper::GetCasterID, this);
    mState.set_function("GetHealth", &ScriptHelper::GetHealth, this);
    mState.set_function("GetHealthPercent", &ScriptHelper::GetHealthPercent, this);
    mState.set_function("GetInvulnerable", &ScriptHelper::GetInvulnerable, this);
    mState.set_function("GetPhysicalImmune", &ScriptHelper::GetPhysicalImmune, this);
    mState.set_function("GetTargetable", &ScriptHelper::GetTargetable, this);
    mState.set_function("GetTargetableToTeam", &ScriptHelper::GetTargetableToTeam, this);
    mState.set_function("GetMagicImmune", &ScriptHelper::GetMagicImmune, this);
    mState.set_function("GetPAR", &ScriptHelper::GetPAR, this);
    mState.set_function("GetPARCost", &ScriptHelper::GetPARCost, this);
    mState.set_function("GetPARPercent", &ScriptHelper::GetPARPercent, this);
    mState.set_function("GetPARType", &ScriptHelper::GetPARType, this);
    mState.set_function("HasPARType", &ScriptHelper::HasPARType, this);
    mState.set_function("GetMaxHealth", &ScriptHelper::GetMaxHealth, this);
    mState.set_function("GetMaxPAR", &ScriptHelper::GetMaxPAR, this);
    mState.set_function("GetName", &ScriptHelper::GetName, this);
    mState.set_function("GetArmor", &ScriptHelper::GetArmor, this);
    mState.set_function("GetSpellBlock", &ScriptHelper::GetSpellBlock, this);
    mState.set_function("GetDodge", &ScriptHelper::GetDodge, this);
    mState.set_function("GetMissChance", &ScriptHelper::GetMissChance, this);
    mState.set_function("GetAttackSpeedMod", &ScriptHelper::GetAttackSpeedMod, this);
    mState.set_function("GetMovementSpeed", &ScriptHelper::GetMovementSpeed, this);
    mState.set_function("GetLevel", &ScriptHelper::GetLevel, this);
    mState.set_function("GetTotalAttackDamage", &ScriptHelper::GetTotalAttackDamage, this);
    mState.set_function("GetSlotSpellCooldownTime", &ScriptHelper::GetSlotSpellCooldownTime, this);
    mState.set_function("GetSlotSpellLevel", &ScriptHelper::GetSlotSpellLevel, this);
    mState.set_function("GetSlotSpellName", &ScriptHelper::GetSlotSpellName, this);
    mState.set_function("GetSpellName", &ScriptHelper::GetSpellName, this);
    mState.set_function("GetSpellSlot", &ScriptHelper::GetSpellSlot, this);
    mState.set_function("GetNoRender", &ScriptHelper::GetNoRender, this);
    mState.set_function("GetBrushVisibilityFake", &ScriptHelper::GetBrushVisibilityFake, this);
    mState.set_function("GetForceRenderParticles", &ScriptHelper::GetForceRenderParticles, this);
    mState.set_function("GetStealthed", &ScriptHelper::GetStealthed, this);
    mState.set_function("GetRevealSpecificUnit", &ScriptHelper::GetRevealSpecificUnit, this);
    mState.set_function("GetTaunted", &ScriptHelper::GetTaunted, this);
    mState.set_function("GetCharmed", &ScriptHelper::GetCharmed, this);
    mState.set_function("GetSuppressed", &ScriptHelper::GetSuppressed, this);
    mState.set_function("GetFeared", &ScriptHelper::GetFeared, this);
    mState.set_function("GetDisableAmbientGold", &ScriptHelper::GetDisableAmbientGold, this);
    mState.set_function("SetDisableAmbientGold", &ScriptHelper::SetDisableAmbientGold, this);
    mState.set_function("GetSleep", &ScriptHelper::GetSleep, this);
    mState.set_function("GetNearSight", &ScriptHelper::GetNearSight, this);
    mState.set_function("GetGhosted", &ScriptHelper::GetGhosted, this);
    mState.set_function("GetGhostProof", &ScriptHelper::GetGhostProof, this);
    mState.set_function("IncHealth", &ScriptHelper::IncHealth, this);
    mState.set_function("IncMana", &ScriptHelper::IncMana, this);
    mState.set_function("IncMoveSpeedFloorMod", &ScriptHelper::IncMoveSpeedFloorMod, this);
    mState.set_function("IncFlatDodgeMod", &ScriptHelper::IncFlatDodgeMod, this);
    mState.set_function("IncFlatMissChanceMod", &ScriptHelper::IncFlatMissChanceMod, this);
    mState.set_function("IncPercentArmorPenetrationMod", &ScriptHelper::IncPercentArmorPenetrationMod, this);
    mState.set_function("IncPercentMagicPenetrationMod", &ScriptHelper::IncPercentMagicPenetrationMod, this);
    mState.set_function("IncPercentMultiplicativeAttackSpeedMod", &ScriptHelper::IncPercentMultiplicativeAttackSpeedMod, this);
    mState.set_function("IncPercentMultiplicativeMovementSpeedMod", &ScriptHelper::IncPercentMultiplicativeMovementSpeedMod, this);
    mState.set_function("IssueOrder", &ScriptHelper::IssueOrder, this);
    mState.set_function("RaiseSpellFlag", &ScriptHelper::RaiseSpellFlag, this);
    mState.set_function("ReincarnateNonDeadHero", &ScriptHelper::ReincarnateNonDeadHero, this);
    mState.set_function("SetCanCastWhileDisabled", &ScriptHelper::SetCanCastWhileDisabled, this);
    mState.set_function("SetInvulnerable", &ScriptHelper::SetInvulnerable, this);
    mState.set_function("SetTargetable", &ScriptHelper::SetTargetable, this);
    mState.set_function("SetNotTargetableToTeam", &ScriptHelper::SetNotTargetableToTeam, this);
    mState.set_function("SetPhysicalImmune", &ScriptHelper::SetPhysicalImmune, this);
    mState.set_function("SetMagicImmune", &ScriptHelper::SetMagicImmune, this);
    mState.set_function("SetRooted", &ScriptHelper::SetRooted, this);
    mState.set_function("SetScaleSkinCoef", &ScriptHelper::SetScaleSkinCoef, this);
    mState.set_function("SetSilenced", &ScriptHelper::SetSilenced, this);
    mState.set_function("SetSlotSpellCooldownTime", &ScriptHelper::SetSlotSpellCooldownTime, this);
    mState.set_function("SetStealthed", &ScriptHelper::SetStealthed, this);
    mState.set_function("SetRevealSpecificUnit", &ScriptHelper::SetRevealSpecificUnit, this);
    mState.set_function("SetStunned", &ScriptHelper::SetStunned, this);
    mState.set_function("SetPacified", &ScriptHelper::SetPacified, this);
    mState.set_function("SetNetted", &ScriptHelper::SetNetted, this);
    mState.set_function("SetDisarmed", &ScriptHelper::SetDisarmed, this);
    mState.set_function("SetTaunted", &ScriptHelper::SetTaunted, this);
    mState.set_function("SetCharmed", &ScriptHelper::SetCharmed, this);
    mState.set_function("SetFeared", &ScriptHelper::SetFeared, this);
    mState.set_function("SetSleep", &ScriptHelper::SetSleep, this);
    mState.set_function("SetNearSight", &ScriptHelper::SetNearSight, this);
    mState.set_function("SetNoRender", &ScriptHelper::SetNoRender, this);
    mState.set_function("SetForceRenderParticles", &ScriptHelper::SetForceRenderParticles, this);
    mState.set_function("SetGhosted", &ScriptHelper::SetGhosted, this);
    mState.set_function("SetSuppressed", &ScriptHelper::SetSuppressed, this);
    mState.set_function("SetGhostProof", &ScriptHelper::SetGhostProof, this);
    mState.set_function("SetSuppressCallForHelp", &ScriptHelper::SetSuppressCallForHelp, this);
    mState.set_function("SetCallForHelpSuppresser", &ScriptHelper::SetCallForHelpSuppresser, this);
    mState.set_function("SetBrushVisibilityFake", &ScriptHelper::SetBrushVisibilityFake, this);
    mState.set_function("SetIgnoreCallForHelp", &ScriptHelper::SetIgnoreCallForHelp, this);
    mState.set_function("SpellBuffAdd",  &ScriptHelper::SpellBuffAdd, this);
    mState.set_function("SpellBuffAddNoRenew", &ScriptHelper::SpellBuffAddNoRenew, this);
    mState.set_function("SpellBuffCount", &ScriptHelper::SpellBuffCount, this);
    mState.set_function("SpellBuffRemove", &ScriptHelper::SpellBuffRemove, this);
    mState.set_function("SpellBuffRemoveCurrent", &ScriptHelper::SpellBuffRemoveCurrent, this);
    mState.set_function("SpellBuffRemoveType", &ScriptHelper::SpellBuffRemoveType, this);
    mState.set_function("HasBuffOfType", &ScriptHelper::HasBuffOfType, this);
    mState.set_function("SpellEffectCreate", &ScriptHelper::SpellEffectCreate, this);
    mState.set_function("TeleportToKeyLocation", &ScriptHelper::TeleportToKeyLocation, this);
    mState.set_function("TeleportToPosition", &ScriptHelper::TeleportToPosition, this);
    mState.set_function("GetAIState", &ScriptHelper::GetAIState, this);
    mState.set_function("GetCanAttack", &ScriptHelper::GetCanAttack, this);
    mState.set_function("GetCanCast", &ScriptHelper::GetCanCast, this);
    mState.set_function("IsAutoCastOn", &ScriptHelper::IsAutoCastOn, this);
    mState.set_function("GetCanMove", &ScriptHelper::GetCanMove, this);
    mState.set_function("SetCanAttack", &ScriptHelper::SetCanAttack, this);
    mState.set_function("SetCanCast", &ScriptHelper::SetCanCast, this);
    mState.set_function("SetCanMove", &ScriptHelper::SetCanMove, this);
    mState.set_function("IsBaseAI", &ScriptHelper::IsBaseAI, this);
    mState.set_function("IsHeroAI", &ScriptHelper::IsHeroAI, this);
    mState.set_function("IsMelee", &ScriptHelper::IsMelee, this);
    mState.set_function("IsRanged", &ScriptHelper::IsRanged, this);
    mState.set_function("IsMoving", &ScriptHelper::IsMoving, this);
    mState.set_function("IncFlatGoldPer10Mod", &ScriptHelper::IncFlatGoldPer10Mod, this);
    mState.set_function("IncPermanentFlatGoldPer10Mod", &ScriptHelper::IncPermanentFlatGoldPer10Mod, this);
    mState.set_function("IncBaseAttackDamage", &ScriptHelper::IncBaseAttackDamage, this);
    mState.set_function("IncPermanentBaseAttackDamage", &ScriptHelper::IncPermanentBaseAttackDamage, this);
    mState.set_function("IncFlatArmorMod", &ScriptHelper::IncFlatArmorMod, this);
    mState.set_function("IncPermanentFlatArmorMod", &ScriptHelper::IncPermanentFlatArmorMod, this);
    mState.set_function("IncFlatArmorPenetrationMod", &ScriptHelper::IncFlatArmorPenetrationMod, this);
    mState.set_function("IncPermanentFlatArmorPenetrationMod", &ScriptHelper::IncPermanentFlatArmorPenetrationMod, this);
    mState.set_function("IncFlatMagicPenetrationMod", &ScriptHelper::IncFlatMagicPenetrationMod, this);
    mState.set_function("IncPermanentFlatMagicPenetrationMod", &ScriptHelper::IncPermanentFlatMagicPenetrationMod, this);
    mState.set_function("IncFlatSpellBlockMod", &ScriptHelper::IncFlatSpellBlockMod, this);
    mState.set_function("IncPermanentFlatSpellBlockMod", &ScriptHelper::IncPermanentFlatSpellBlockMod, this);
    mState.set_function("IncFlatAttackRangeMod", &ScriptHelper::IncFlatAttackRangeMod, this);
    mState.set_function("IncPermanentFlatAttackRangeMod", &ScriptHelper::IncPermanentFlatAttackRangeMod, this);
    mState.set_function("IncFlatCastRangeMod", &ScriptHelper::IncFlatCastRangeMod, this);
    mState.set_function("IncPermanentFlatCastRangeMod", &ScriptHelper::IncPermanentFlatCastRangeMod, this);
    mState.set_function("IncFlatCooldownMod", &ScriptHelper::IncFlatCooldownMod, this);
    mState.set_function("IncPermanentFlatCooldownMod", &ScriptHelper::IncPermanentFlatCooldownMod, this);
    mState.set_function("IncFlatCritChanceMod", &ScriptHelper::IncFlatCritChanceMod, this);
    mState.set_function("IncPermanentFlatCritChanceMod", &ScriptHelper::IncPermanentFlatCritChanceMod, this);
    mState.set_function("IncFlatCritDamageMod", &ScriptHelper::IncFlatCritDamageMod, this);
    mState.set_function("IncPermanentFlatCritDamageMod", &ScriptHelper::IncPermanentFlatCritDamageMod, this);
    mState.set_function("IncFlatHPPoolMod", &ScriptHelper::IncFlatHPPoolMod, this);
    mState.set_function("IncPermanentFlatHPPoolMod", &ScriptHelper::IncPermanentFlatHPPoolMod, this);
    mState.set_function("IncFlatHPRegenMod", &ScriptHelper::IncFlatHPRegenMod, this);
    mState.set_function("IncPermanentFlatHPRegenMod", &ScriptHelper::IncPermanentFlatHPRegenMod, this);
    mState.set_function("IncFlatMagicDamageMod", &ScriptHelper::IncFlatMagicDamageMod, this);
    mState.set_function("IncPermanentFlatMagicDamageMod", &ScriptHelper::IncPermanentFlatMagicDamageMod, this);
    mState.set_function("IncFlatMagicReduction", &ScriptHelper::IncFlatMagicReduction, this);
    mState.set_function("IncPermanentFlatMagicReduction", &ScriptHelper::IncPermanentFlatMagicReduction, this);
    mState.set_function("IncFlatMovementSpeedMod", &ScriptHelper::IncFlatMovementSpeedMod, this);
    mState.set_function("IncPermanentFlatMovementSpeedMod", &ScriptHelper::IncPermanentFlatMovementSpeedMod, this);
    mState.set_function("IncFlatPhysicalDamageMod", &ScriptHelper::IncFlatPhysicalDamageMod, this);
    mState.set_function("IncPermanentFlatPhysicalDamageMod", &ScriptHelper::IncPermanentFlatPhysicalDamageMod, this);
    mState.set_function("IncFlatPhysicalReduction", &ScriptHelper::IncFlatPhysicalReduction, this);
    mState.set_function("IncPermanentFlatPhysicalReduction", &ScriptHelper::IncPermanentFlatPhysicalReduction, this);
    mState.set_function("IncFlatBubbleRadiusMod", &ScriptHelper::IncFlatBubbleRadiusMod, this);
    mState.set_function("IncPermanentFlatBubbleRadiusMod", &ScriptHelper::IncPermanentFlatBubbleRadiusMod, this);
    mState.set_function("IncPercentHardnessMod", &ScriptHelper::IncPercentHardnessMod, this);
    mState.set_function("IncPermanentPercentHardnessMod", &ScriptHelper::IncPermanentPercentHardnessMod, this);
    mState.set_function("IncPercentArmorMod", &ScriptHelper::IncPercentArmorMod, this);
    mState.set_function("IncPermanentPercentArmorMod", &ScriptHelper::IncPermanentPercentArmorMod, this);
    mState.set_function("IncPercentSpellBlockMod", &ScriptHelper::IncPercentSpellBlockMod, this);
    mState.set_function("IncPermanentPercentSpellBlockMod", &ScriptHelper::IncPermanentPercentSpellBlockMod, this);
    mState.set_function("IncPercentAttackRangeMod", &ScriptHelper::IncPercentAttackRangeMod, this);
    mState.set_function("IncPermanentPercentAttackRangeMod", &ScriptHelper::IncPermanentPercentAttackRangeMod, this);
    mState.set_function("IncPercentAttackSpeedMod", &ScriptHelper::IncPercentAttackSpeedMod, this);
    mState.set_function("IncPermanentPercentAttackSpeedMod", &ScriptHelper::IncPermanentPercentAttackSpeedMod, this);
    mState.set_function("IncPercentCastRangeMod", &ScriptHelper::IncPercentCastRangeMod, this);
    mState.set_function("IncPermanentPercentCastRangeMod", &ScriptHelper::IncPermanentPercentCastRangeMod, this);
    mState.set_function("IncPercentCooldownMod", &ScriptHelper::IncPercentCooldownMod, this);
    mState.set_function("IncPermanentPercentCooldownMod", &ScriptHelper::IncPermanentPercentCooldownMod, this);
    mState.set_function("IncPercentCritDamageMod", &ScriptHelper::IncPercentCritDamageMod, this);
    mState.set_function("IncPermanentPercentCritDamageMod", &ScriptHelper::IncPermanentPercentCritDamageMod, this);
    mState.set_function("IncPercentEXPBonus", &ScriptHelper::IncPercentEXPBonus, this);
    mState.set_function("IncPermanentPercentEXPBonus", &ScriptHelper::IncPermanentPercentEXPBonus, this);
    mState.set_function("IncPercentHPPoolMod", &ScriptHelper::IncPercentHPPoolMod, this);
    mState.set_function("IncPermanentPercentHPPoolMod", &ScriptHelper::IncPermanentPercentHPPoolMod, this);
    mState.set_function("IncPercentHPRegenMod", &ScriptHelper::IncPercentHPRegenMod, this);
    mState.set_function("IncPermanentPercentHPRegenMod", &ScriptHelper::IncPermanentPercentHPRegenMod, this);
    mState.set_function("IncPercentHealingAmountMod", &ScriptHelper::IncPercentHealingAmountMod, this);
    mState.set_function("IncPermanentPercentHealingAmountMod", &ScriptHelper::IncPermanentPercentHealingAmountMod, this);
    mState.set_function("IncPercentLifeStealMod", &ScriptHelper::IncPercentLifeStealMod, this);
    mState.set_function("IncPermanentPercentLifeStealMod", &ScriptHelper::IncPermanentPercentLifeStealMod, this);
    mState.set_function("IncPercentSpellVampMod", &ScriptHelper::IncPercentSpellVampMod, this);
    mState.set_function("IncPermanentPercentSpellVampMod", &ScriptHelper::IncPermanentPercentSpellVampMod, this);
    mState.set_function("IncPercentMagicDamageMod", &ScriptHelper::IncPercentMagicDamageMod, this);
    mState.set_function("IncPermanentPercentMagicDamageMod", &ScriptHelper::IncPermanentPercentMagicDamageMod, this);
    mState.set_function("IncPercentMagicReduction", &ScriptHelper::IncPercentMagicReduction, this);
    mState.set_function("IncPermanentPercentMagicReduction", &ScriptHelper::IncPermanentPercentMagicReduction, this);
    mState.set_function("IncPercentMovementSpeedMod", &ScriptHelper::IncPercentMovementSpeedMod, this);
    mState.set_function("IncPermanentPercentMovementSpeedMod", &ScriptHelper::IncPermanentPercentMovementSpeedMod, this);
    mState.set_function("IncPercentPhysicalDamageMod", &ScriptHelper::IncPercentPhysicalDamageMod, this);
    mState.set_function("IncPermanentPercentPhysicalDamageMod", &ScriptHelper::IncPermanentPercentPhysicalDamageMod, this);
    mState.set_function("IncPercentPhysicalReduction", &ScriptHelper::IncPercentPhysicalReduction, this);
    mState.set_function("IncPermanentPercentPhysicalReduction", &ScriptHelper::IncPermanentPercentPhysicalReduction, this);
    mState.set_function("IncPercentRespawnTimeMod", &ScriptHelper::IncPercentRespawnTimeMod, this);
    mState.set_function("IncPermanentPercentRespawnTimeMod", &ScriptHelper::IncPermanentPercentRespawnTimeMod, this);
    mState.set_function("IncPercentGoldLostOnDeathMod", &ScriptHelper::IncPercentGoldLostOnDeathMod, this);
    mState.set_function("IncPermanentPercentGoldLostOnDeathMod", &ScriptHelper::IncPermanentPercentGoldLostOnDeathMod, this);
    mState.set_function("IncPercentBubbleRadiusMod", &ScriptHelper::IncPercentBubbleRadiusMod, this);
    mState.set_function("IncPermanentPercentBubbleRadiusMod", &ScriptHelper::IncPermanentPercentBubbleRadiusMod, this);
    mState.set_function("IncAcquisitionRangeMod", &ScriptHelper::IncAcquisitionRangeMod, this);
    mState.set_function("IncPermanentAcquisitionRangeMod", &ScriptHelper::IncPermanentAcquisitionRangeMod, this);
    mState.set_function("GetFlatGoldPer10Mod", &ScriptHelper::GetFlatGoldPer10Mod, this);
    mState.set_function("GetBaseAttackDamage", &ScriptHelper::GetBaseAttackDamage, this);
    mState.set_function("GetFlatArmorMod", &ScriptHelper::GetFlatArmorMod, this);
    mState.set_function("GetFlatArmorPenetrationMod", &ScriptHelper::GetFlatArmorPenetrationMod, this);
    mState.set_function("GetFlatMagicPenetrationMod", &ScriptHelper::GetFlatMagicPenetrationMod, this);
    mState.set_function("GetFlatSpellBlockMod", &ScriptHelper::GetFlatSpellBlockMod, this);
    mState.set_function("GetFlatAttackRangeMod", &ScriptHelper::GetFlatAttackRangeMod, this);
    mState.set_function("GetFlatCastRangeMod", &ScriptHelper::GetFlatCastRangeMod, this);
    mState.set_function("GetFlatCooldownMod", &ScriptHelper::GetFlatCooldownMod, this);
    mState.set_function("GetFlatCritChanceMod", &ScriptHelper::GetFlatCritChanceMod, this);
    mState.set_function("GetFlatCritDamageMod", &ScriptHelper::GetFlatCritDamageMod, this);
    mState.set_function("GetFlatHPPoolMod", &ScriptHelper::GetFlatHPPoolMod, this);
    mState.set_function("GetFlatHPRegenMod", &ScriptHelper::GetFlatHPRegenMod, this);
    mState.set_function("GetFlatMagicDamageMod", &ScriptHelper::GetFlatMagicDamageMod, this);
    mState.set_function("GetFlatMagicReduction", &ScriptHelper::GetFlatMagicReduction, this);
    mState.set_function("GetFlatMovementSpeedMod", &ScriptHelper::GetFlatMovementSpeedMod, this);
    mState.set_function("GetFlatPhysicalDamageMod", &ScriptHelper::GetFlatPhysicalDamageMod, this);
    mState.set_function("GetFlatPhysicalReduction", &ScriptHelper::GetFlatPhysicalReduction, this);
    mState.set_function("GetFlatBubbleRadiusMod", &ScriptHelper::GetFlatBubbleRadiusMod, this);
    mState.set_function("GetPercentHardnessMod", &ScriptHelper::GetPercentHardnessMod, this);
    mState.set_function("GetPercentArmorMod", &ScriptHelper::GetPercentArmorMod, this);
    mState.set_function("GetPercentSpellBlockMod", &ScriptHelper::GetPercentSpellBlockMod, this);
    mState.set_function("GetPercentAttackRangeMod", &ScriptHelper::GetPercentAttackRangeMod, this);
    mState.set_function("GetPercentAttackSpeedMod", &ScriptHelper::GetPercentAttackSpeedMod, this);
    mState.set_function("GetPercentCastRangeMod", &ScriptHelper::GetPercentCastRangeMod, this);
    mState.set_function("GetPercentCooldownMod", &ScriptHelper::GetPercentCooldownMod, this);
    mState.set_function("GetPercentCritDamageMod", &ScriptHelper::GetPercentCritDamageMod, this);
    mState.set_function("GetPercentEXPBonus", &ScriptHelper::GetPercentEXPBonus, this);
    mState.set_function("GetPercentHPPoolMod", &ScriptHelper::GetPercentHPPoolMod, this);
    mState.set_function("GetPercentHPRegenMod", &ScriptHelper::GetPercentHPRegenMod, this);
    mState.set_function("GetPercentHealingAmountMod", &ScriptHelper::GetPercentHealingAmountMod, this);
    mState.set_function("GetPercentLifeStealMod", &ScriptHelper::GetPercentLifeStealMod, this);
    mState.set_function("GetPercentSpellVampMod", &ScriptHelper::GetPercentSpellVampMod, this);
    mState.set_function("GetPercentMagicDamageMod", &ScriptHelper::GetPercentMagicDamageMod, this);
    mState.set_function("GetPercentMagicReduction", &ScriptHelper::GetPercentMagicReduction, this);
    mState.set_function("GetPercentMovementSpeedMod", &ScriptHelper::GetPercentMovementSpeedMod, this);
    mState.set_function("GetPercentPhysicalDamageMod", &ScriptHelper::GetPercentPhysicalDamageMod, this);
    mState.set_function("GetPercentPhysicalReduction", &ScriptHelper::GetPercentPhysicalReduction, this);
    mState.set_function("GetPercentRespawnTimeMod", &ScriptHelper::GetPercentRespawnTimeMod, this);
    mState.set_function("GetPercentGoldLostOnDeathMod", &ScriptHelper::GetPercentGoldLostOnDeathMod, this);
    mState.set_function("GetPercentBubbleRadiusMod", &ScriptHelper::GetPercentBubbleRadiusMod, this);
    mState.set_function("GetAcquisitionRangeMod", &ScriptHelper::GetAcquisitionRangeMod, this);

    //Extra
    mState.set_function("DefUpdateAura", &ScriptHelper::DefUpdateAura, this);
    mState.set_function("BBIsTargetBehindMe", &ScriptHelper::BBIsTargetBehindMe, this);
    mState.set_function("BBIsTargetInFrontOfMe", &ScriptHelper::BBIsTargetInFrontOfMe, this);
    mState.set_function("IsDead", &ScriptHelper::IsDead, this);
    mState.set_function("DistanceBetweenObjects", &ScriptHelper::DistanceBetweenObjects, this);
    mState.set_function("DistanceBetweenObjectAndPoint", &ScriptHelper::DistanceBetweenObjectAndPoint, this);
    mState.set_function("DistanceBetweenPoints", &ScriptHelper::DistanceBetweenPoints, this);
    mState.set_function("SetSpellCastRange", &ScriptHelper::SetSpellCastRange, this);


    LoadLuaFile("DATA/BuildingBlocks/BuildingBlocksBase.lua");
    LoadLuaFile("DATA/BuildingBlocks/BBLuaConversionLibrary.lua");
}

bool ScriptHelper::LoadLuaFile(std::string name)
{
    auto path = r3dFileManager::getFilePath(name);
    if(path == "")
        path = r3dFileManager::getFilePath(name+"obj");
    if(path == "")
        return false;
    std::cout<<"Loading: "<<path<<std::endl;
    mState.do_file(path);
    return true;
}

sol::state_view ScriptHelper::State()
{
    return mState;
}

void ScriptHelper::LoadScriptIntoScript(std::string name)
{
    if(!LoadLuaFile(name))
        if(!LoadLuaFile("LEVELS/Map1/Scripts/"+name))
            LoadLuaFile("DATA/Scripts/"+name);
}
